<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
  <title>터치로 두꺼워지는 선 그리기</title>
  <style>
    body {
      margin: 0;
      padding: 0;
      overflow: hidden;
      background: #f0f0f0;
    }
    #myCanvas {
      display: block;
      background: white;
      margin: 0 auto;
      touch-action: none; /* 모바일에서 스크롤 방지 */
    }
  </style>
</head>
<body>
  <canvas id="myCanvas" width="100%" height="100vh"></canvas>

  <script>
    const canvas = document.getElementById('myCanvas');
    // 캔버스 크기를 화면에 맞춤
    function resizeCanvas() {
      canvas.width = window.innerWidth;
      canvas.height = window.innerHeight;
    }
    window.addEventListener('resize', resizeCanvas);
    resizeCanvas();

    const ctx = canvas.getContext('2d');

    let isDrawing = false;
    let pressStartTime = 0;
    let lineWidth = 1;
    const maxWidth = 20;

    canvas.addEventListener('touchstart', (e) => {
      e.preventDefault();
      isDrawing = true;
      pressStartTime = Date.now();
      const touch = e.touches[0];
      ctx.beginPath();
      ctx.moveTo(touch.clientX, touch.clientY);
    });

    canvas.addEventListener('touchmove', (e) => {
      if (!isDrawing) return;
      e.preventDefault();
      const touch = e.touches[0];
      const x = touch.clientX;
      const y = touch.clientY;

      // 경과 시간(초 단위)
      const elapsedTime = (Date.now() - pressStartTime) / 1000;
      // 경과 시간에 따라 선 두께 증가 (최대 maxWidth)
      lineWidth = Math.min(1 + elapsedTime * 3, maxWidth);

      ctx.lineWidth = lineWidth;
      ctx.lineTo(x, y);
      ctx.stroke();
      ctx.beginPath();
      ctx.moveTo(x, y);
    });

    canvas.addEventListener('touchend', (e) => {
      isDrawing = false;
      lineWidth = 1;
    });
  </script>
</body>
</html>

